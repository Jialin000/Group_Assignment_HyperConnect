{"version":3,"sources":["components/Nav.js","components/Button.js","components/SignInForm.js","userAPI.js","pages/HomePage.js","pages/SignInPage.js","components/SignUpForm.js","pages/SignUpPage.js","parkingBaysAPI.js","components/SearchBar.js","components/ParkingBays.js","components/HyperMap.js","pages/SearchPage.js","App.js","index.js"],"names":["Nav","exact","to","Button","className","children","onClick","props","SignInForm","validateEmail","email_address","err","state","errormessage","test","String","setState","validatePassword","password","validateForm","isValidEmail","email","isValidPassword","handleChange","event","preventDefault","nam","target","name","val","value","onSubmit","loginmessage","user","fetch","method","headers","body","JSON","stringify","userLogIn","then","res","status","Error","error","catch","console","alert","username","bind","this","htmlFor","type","id","onChange","SubclassName","window","location","href","React","Component","HomePage","SignInPage","SignUpForm","validateUserName","isValidUserName","userName","userSignUp","signupmessage","SignUpPage","useParkingBays","useState","loading","setLoading","bays","setBays","setError","useEffect","log","json","e","SearchBar","ParkingBays","HyperMap","usePosition","enableHighAccuracy","latitude","longitude","center","timestamp","accuracy","lat","lng","selectedPark","setSelectedPark","googleMapsApiKey","mapContainerStyle","width","height","zoom","position","label","icon","url","map","bay","parseFloat","lon","onCloseClick","bay_id","st_marker_id","SearchPage","message","style","float","margin","border","App","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.307dea33.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { userLogOut } from \"../userAPI\";\r\n\r\nexport default function Nav() {\r\n  return (\r\n    <nav>\r\n      <NavLink exact to=\"/\">Home</NavLink>\r\n      <NavLink to=\"/parkingBays\">Find Parking Bays</NavLink>\r\n      <NavLink to=\"/users/login\">LOGIN</NavLink>\r\n      <NavLink to=\"/users/signup\">SIGN UP</NavLink>\r\n      \r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Button({ className, children, onClick, ...props }) {\r\n  return (\r\n    <div className={`btn ${className}`} onClick={onClick} {...props}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport Button from \"../components/Button\";\r\nimport userLogIn, {userLogOut} from \"../userAPI\";\r\n\r\n\r\nexport default class SignInForm extends React.Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      loginmessage:'',\r\n      errormessage:{},\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  validateEmail = (email_address) => {\r\n    let err = this.state.errormessage;\r\n    var re = /^\\w+[\\w-\\.]*\\@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/;\r\n    err[\"email\"] = '';\r\n\r\n    if (!email_address){\r\n      err[\"email\"] = \"*Please enter your email\";\r\n      this.setState({err});\r\n      return false;\r\n     \r\n    }else if (!re.test(String(email_address))) {\r\n      err[\"email\"] = \"*Please enter a valid email\";\r\n      this.setState({err}); \r\n      return false;      \r\n    }\r\n    return true;\r\n  }\r\n  \r\n \r\n\r\n  validatePassword = (password) => {\r\n    let err = this.state.errormessage;\r\n    err[\"password\"] = '';\r\n    \r\n    if (!password) {\r\n      err[\"password\"] = \"*Please enter your password\";\r\n      this.setState({err});  \r\n      return false;   \r\n    }\r\n    return true;\r\n  }\r\n\r\n  validateForm = () => {\r\n    const isValidEmail = this.validateEmail(this.state.email) \r\n    const isValidPassword = this.validatePassword(this.state.password);\r\n    \r\n    return isValidEmail&&isValidPassword;\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault(); \r\n    let nam = event.target.name;\r\n    let val = event.target.value;\r\n\r\n    if (nam === \"email\") {\r\n      this.validateEmail(val);\r\n    }    \r\n    else if (nam === \"password\") {\r\n      this.validatePassword(val);\r\n    }\r\n    this.setState({[nam]: val});\r\n  }\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!this.validateForm()){\r\n      return;\r\n    }\r\n\r\n    this.setState({loginmessage: \"Loading...\"});\r\n\r\n    userLogIn ({\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    }).then(res => {\r\n      if (res.status === 200) {\r\n        this.setState({loginmessage: \"Login successful!\"});\r\n      }else if(res.status === 401) {\r\n        this.setState({loginmessage: \"Wrong password or email\"});\r\n      }\r\n      else {\r\n        const error = new Error(res.error);\r\n        throw error;\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      alert('Error logging in please try again');\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n        <div className={\"SignInForm\"}>\r\n          <h2>Log in to your account</h2>\r\n          <p>{this.state.loginmessage}</p>\r\n          <form>\r\n            <label htmlFor=\"email\">Email:</label>\r\n            <input type=\"email\" id=\"email\" name=\"email\" onChange={this.handleChange}/>\r\n            <p>{this.state.errormessage.email}</p>\r\n             \r\n            <label htmlFor=\"password\">Password: </label>\r\n            <input type=\"password\" id=\"password\"  name=\"password\" onChange={this.handleChange}/>\r\n            <p>{this.state.errormessage.password}</p>\r\n              \r\n            <Button SubclassName={\"btn-success\"} onClick={this.onSubmit}>Submit</Button>                   \r\n          </form>\r\n\r\n          <div>\r\n            <h3>New to HyperParking?</h3>\r\n            <Button className={\"btn-success\"} onClick={event =>  window.location.href='users/signup'}>\r\n            Creat an accout\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n    );\r\n  }\r\n}","//import Cookies from 'universal-cookie';\r\n\r\n\r\n// const BASE_URL = \"https://hyper-connect.herokuapp.com\";\r\n//const BASE_URL = \"https://parking-bay.herokuapp.com\";\r\n// const BASE_URL = \"http://localhost:8080\";\r\n\r\nexport default function userLogIn(user) {\r\n  const endpoint = `/users/login`;\r\n  const {email, password} = user; \r\n\r\n  const res = fetch(endpoint, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"credentials\": 'include',\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password\r\n    })\r\n  });\r\n  return res;\r\n}\r\n\r\n\r\nexport function userSignUp(user) {\r\n  const endpoint = `/users/signup`;\r\n  const { userName, email, password} = user;\r\n  \r\n  const res = fetch(endpoint, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"credentials\": 'include',\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({\r\n      userName,\r\n      email,\r\n      password\r\n    })\r\n  });\r\n\r\n  return res;\r\n}\r\n\r\n\r\nexport function userLogOut() {\r\n  const endpoint = `/users/logout`;\r\n\r\n  fetch(endpoint,{\r\n    credentials: 'include',\r\n  }).then(res => {\r\n    if (res.status === 200) {\r\n      alert(\"logout!\");\r\n    }else {\r\n      alert(\"Error\");\r\n    }\r\n  })\r\n}\r\n\r\n/*export function getToken() {\r\n  const res = Cookies.get(\"Authorization\");\r\n  alert(res);\r\n}*/","import React from \"react\";\r\n\r\nimport SignInForm from \"../components/SignInForm\"\r\nimport Button from \"../components/Button\"\r\nexport default function HomePage() {\r\n  return (\r\n    <div>\r\n      <Button className={\"btn-success\"} onClick={event =>  window.location.href='/parkingBays'}>\r\n          Find parking bays\r\n      </Button>\r\n\t\t\r\n\t\t<SignInForm />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport SignInForm from \"../components/SignInForm\"\r\nimport Button from \"../components/Button\";\r\n\r\nexport default function SignInPage() {\r\n    return (\r\n      <div className=\"SignInPage\">\r\n       <SignInForm />\r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\n","import React from \"react\";\r\nimport Button from \"../components/Button\";\r\nimport {userSignUp} from \"../userAPI\";\r\n\r\nexport default class SignUpForm extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      signupmessage:'',\r\n      password: '',\r\n      errormessage:{},\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  validateEmail = (email_address) => {\r\n    let err = this.state.errormessage;\r\n    var re = /^\\w+[\\w-\\.]*\\@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/;\r\n    err[\"email\"] = '';\r\n\r\n    if (!email_address){\r\n      err[\"email\"] = \"*Please enter your email\";\r\n      this.setState({err});\r\n      return false;\r\n     \r\n    }else if (!re.test(String(email_address))) {\r\n      err[\"email\"] = \"*Please enter a valid email\";\r\n      this.setState({err}); \r\n      return false;      \r\n    }\r\n    return true;\r\n  }\r\n  \r\n  validateUserName = (username) => {\r\n    let err = this.state.errormessage;\r\n    err[\"username\"] = '';\r\n    \r\n    if (!username) {\r\n      err[\"username\"] = \"*Please enter your username\";\r\n      this.setState({err});  \r\n      return false;   \r\n    }\r\n    return true;\r\n  }\r\n\r\n  validatePassword = (password) => {\r\n    let err = this.state.errormessage;\r\n    err[\"password\"] = '';\r\n    \r\n    if (!password) {\r\n      err[\"password\"] = \"*Please enter your password\";\r\n      this.setState({err});  \r\n      return false;   \r\n    }\r\n    return true;\r\n  }\r\n\r\n  validateForm = () => {\r\n    const isValidEmail = this.validateEmail(this.state.email) \r\n    const isValidPassword = this.validatePassword(this.state.password);\r\n    const isValidUserName = this.validateUserName(this.state.username);\r\n    return isValidEmail&&isValidPassword&&isValidUserName;\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault(); \r\n    let nam = event.target.name;\r\n    let val = event.target.value;\r\n\r\n    if (nam === \"username\") {\r\n      this.validateUserName(val);\r\n    }\r\n    else if (nam === \"email\") {\r\n      this.validateEmail(val);\r\n    }    \r\n    else if (nam === \"password\") {\r\n      this.validatePassword(val);\r\n    }\r\n\r\n    this.setState({[nam]: val});\r\n  }\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!this.validateForm()){\r\n      return;\r\n    }\r\n\r\n    this.setState({loginmessage: \"Loading...\"});\r\n    userSignUp ({\r\n      userName: this.state.username,\r\n      email: this.state.email,\r\n      password: this.state.password   \r\n    }).then(res => {\r\n      if (res.status === 201) {\r\n        this.setState({signupmessage: \"Account created!\"});\r\n      }else if(res.status === 409) {\r\n        this.setState({signupmessage: \"This email has been registered.\"});\r\n      }\r\n      else {\r\n        const error = new Error(res.error);\r\n        throw error;\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      alert('Error logging in please try again');\r\n    });\r\n    \r\n   \r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n        <div className={\"SignUpForm\"}>\r\n          <h2>Sign Up</h2>\r\n          <p>{this.state.signupmessage}</p>\r\n          <form>\r\n              <label htmlFor=\"username\">Username</label>\r\n              <input type=\"username\" id=\"username\" name=\"username\" onChange={this.handleChange}/>\r\n              <p>{this.state.errormessage.username}</p>\r\n\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input type=\"email\" id=\"email\" name=\"email\" onChange={this.handleChange}/>\r\n              <p>{this.state.errormessage.email}</p>\r\n               \r\n              <label htmlFor=\"password\">Password</label>\r\n              <input type=\"password\" id=\"password\"  name=\"password\" onChange={this.handleChange}/>\r\n              <p>{this.state.errormessage.password}</p>\r\n              \r\n            <Button SubclassName={\"btn-success\"} onClick={this.onSubmit}>Submit</Button>\r\n\r\n          </form>\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport SignUpForm from \"../components/SignUpForm\"\r\n\r\nimport Button from \"../components/Button\";\r\n\r\nexport default function SignUpPage() {\r\n  \r\n  return (\r\n    <div className=\"SignUpPage\">\r\n      <SignUpForm />\r\n    </div>    \r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\n// Base URL\r\n// const BASE_URL = \"https://hyper-connect.herokuapp.com\";\r\n// const BASE_URL = \"http://localhost:8080\";\r\n\r\n\r\n// end point to get all parking bays\r\nexport function getBays() {\r\n  const endpoint = `/parkingBays`;\r\n  return fetch(endpoint).then(res => {\r\n    console.log(res)\r\n    return res.json();\r\n  })\r\n}\r\n\r\n\r\n\r\n// export function findBays(location) {\r\n//   /*\r\n//   const {lat, lon} = location;\r\n//   const endpoint = BASE_URL + `/find?lat=${lat}lon=${lon}`;\r\n//   */\r\n//\r\n// }\r\n\r\n\r\n\r\n\r\nexport function useParkingBays() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [bays, setBays] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getBays()\r\n      .then(bays => {\r\n        setBays(bays);\r\n        setLoading(false);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n        setError(e);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return {\r\n    loading,\r\n    bays,\r\n    error\r\n  };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport {findBays, getBays} from \"../parkingBaysAPI\"\r\nimport Button from \"../components/Button\";\r\n\r\nexport default function SearchBar() {\r\n\r\n\r\n  function findNearestBays(){\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"SearchBar\">\r\n      <form>\r\n        <Button className={\"btn-success\"} onClick={findNearestBays}>\r\n          Search Around\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nimport Button from \"../components/Button\";\r\nimport {useParkingBays} from \"../parkingBaysAPI\";\r\n\r\nexport default function ParkingBays(props) {\r\n\r\n\r\n \r\n  // Display a list of the bays\r\n    return (\r\n        <div className=\"ParkingBays\">\r\n          <h3>Parking bays nearby</h3>\r\n\r\n\r\n\r\n        </div>\r\n    );\r\n  \r\n}\r\n","import React, { Component,useState, useEffect } from 'react';\r\nimport { GoogleMap, LoadScript } from '@react-google-maps/api';\r\nimport {Marker,InfoWindow} from '@react-google-maps/api';\r\nimport {usePosition} from 'use-position';\r\nimport Autocomplete from 'react-google-autocomplete';\r\n// Display parking bays on map\r\n\r\n\r\nexport default function HyperMap(props) {\r\n\r\n    \r\n\r\n    // style of map\r\n    const containerStyle = {\r\n        width: '1000px',\r\n        height: '800px'\r\n    };\r\n\r\n    // Get user's current location\r\n    const watch = true;\r\n\r\n    const {\r\n        latitude,\r\n        longitude,\r\n        timestamp,\r\n        accuracy,\r\n        error,\r\n    } = usePosition(watch, {enableHighAccuracy: true});\r\n\r\n    // center of map\r\n    let center = {\r\n        lat: latitude,\r\n        lng: longitude\r\n    }\r\n\r\n    const [selectedPark, setSelectedPark] = useState(null);\r\n    \r\n    // render\r\n\r\n    // onPlaceSelected = ( place ) => {\r\n    //     console.log( 'plc', place );\r\n    //     const address = place.formatted_address,\r\n    //           addressArray =  place.address_components,\r\n    //           city = this.getCity( addressArray ),\r\n    //           area = this.getArea( addressArray ),\r\n    //           state = this.getState( addressArray ),\r\n    //           latValue = place.geometry.location.lat(),\r\n    //           lngValue = place.geometry.location.lng();\r\n    //     // Set these values in the state.\r\n    //     this.setState({\r\n    //         address: ( address ) ? address : '',\r\n    //         area: ( area ) ? area : '',\r\n    //         city: ( city ) ? city : '',\r\n    //         state: ( state ) ? state : '',\r\n    //         markerPosition: {\r\n    //             lat: latValue,\r\n    //             lng: lngValue\r\n    //         },\r\n    //         mapPosition: {\r\n    //             lat: latValue,\r\n    //             lng: lngValue\r\n    //         },\r\n    //     })\r\n    // }\r\n\r\n    return (\r\n        <LoadScript\r\n            googleMapsApiKey=\"AIzaSyCE_by6BiXR1XCws5YiduStyJfvzPrXfuc\"\r\n        >\r\n            <GoogleMap\r\n                mapContainerStyle={containerStyle}\r\n                center={center}\r\n                zoom={16}\r\n            >\r\n                {/* <Autocomplete\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t    width: '100%',\r\n\t\t\t\t\t\theight: '40px',\r\n\t\t\t\t\t\tpaddingLeft: '16px',\r\n\t\t\t\t\t\tmarginTop: '2px',\r\n\t\t\t\t\t\tmarginBottom: '100px'\r\n\t\t\t\t\t\t}}\r\n                        onPlaceSelected={ this.onPlaceSelected }\r\n\t\t\t\t\t\ttypes={['(regions)']}\r\n\t\t\t\t/> */}\r\n                \r\n                {/* User's current location */}\r\n                <Marker position={center} label={\"Your current location\"} \r\n                icon={{url:'/userLocationIcon.png'}}/>\r\n\r\n                {/* Parkingbays' locations */}\r\n                {props.bays.map(bay =>\r\n                (bay.status === \"Unoccupied\" &&\r\n                    <Marker\r\n                        position={{lat: parseFloat(bay.lat), lng: parseFloat(bay.lon)}}\r\n                        onClick={() => {setSelectedPark(bay)}}\r\n                        icon={{url:'/availableIcon.png'}}\r\n                    />)\r\n                )}\r\n\r\n                {props.bays.map(bay =>\r\n                (bay.status === \"Present\" &&\r\n                    <Marker\r\n                        position={{lat: parseFloat(bay.lat), lng: parseFloat(bay.lon)}}\r\n                        icon={{url:'/nonAvailableIcon.png'}}\r\n                    />)\r\n                )}\r\n\r\n                {selectedPark && \r\n                    <InfoWindow position={{lat: parseFloat(selectedPark.lat), lng: parseFloat(selectedPark.lon)}}\r\n                    onCloseClick={() => {\r\n                        setSelectedPark(null);\r\n                    }}\r\n                    >\r\n                        <div>\r\n                            <h2>Bay #{selectedPark.bay_id}</h2>\r\n                            <p>st_marker_id: {selectedPark.st_marker_id}</p>\r\n                            <p>latitude: {selectedPark.lat}</p>\r\n                            <p>latitude: {selectedPark.lon}</p>\r\n                        </div>\r\n                    </InfoWindow>\r\n                }\r\n                \r\n                {/* {selectedPark && \r\n                (this.center.lat=parseFloat(selectedPark.lat))&& \r\n                (this.center.lng = parseFloat(selectedPark.lon))\r\n                } */}\r\n\r\n            </GoogleMap>\r\n        </LoadScript>\r\n    )\r\n\r\n\r\n}\r\n","import React, { useState } from \"react\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport ParkingBays from \"../components/ParkingBays\";\r\nimport HyperMap from \"../components/HyperMap\";\r\nimport {useParkingBays} from \"../parkingBaysAPI\";\r\n\r\n\r\nexport default function SearchPage() {\r\n\r\n    // Fetch all the parking bays information upon loading\r\n    const { loading, bays, error } = useParkingBays();\r\n    if (loading) {\r\n        return <p>Loading...</p>;\r\n    }\r\n    if (error) {\r\n        return <p>Something went wrong: {error.message}</p>;\r\n    }\r\n\r\n\r\n    // Simple style to separate left and right contents\r\n    const leftDivStyle = {\r\n        float: \"left\",\r\n        margin: \"20px 10px 20px 10px\",\r\n        width: \"25%\",\r\n        border: \"solid 1px black\",\r\n        height: \"100%\"\r\n    }\r\n\r\n    const rightDivStyle = {\r\n        float: \"left\",\r\n        margin: \"20px 10px 20px 10px\",\r\n        width: \"70%\",\r\n        border: \"solid 1px black\"\r\n    }\r\n\r\n    // Render contents of page\r\n  return (\r\n    <div>\r\n        <div style={leftDivStyle}>\r\n            <SearchBar />\r\n            <ParkingBays bays={bays}/>\r\n        </div>\r\n      <div style={rightDivStyle}>\r\n          <HyperMap bays={bays}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\n\r\nimport Nav from \"./components/Nav\";\r\n\r\nimport HomePage from \"./pages/HomePage\";\r\nimport SignInPage from \"./pages/SignInPage\";\r\nimport SignUpPage from \"./pages/SignUpPage\";\r\nimport SearchPage from \"./pages/SearchPage\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"App\">\r\n        <Nav />\r\n    \r\n        {/* A <Switch> looks through its children <Route>s and\r\n          renders the first one that matches the current URL. */}\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HomePage />\r\n          </Route>\r\n          <Route path=\"/users/login\">\r\n            <SignInPage />\r\n          </Route>\r\n          <Route path=\"/users/signup\">\r\n            <SignUpPage />\r\n          </Route>\r\n          <Route path=\"/parkingBays\">\r\n            <SearchPage />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}